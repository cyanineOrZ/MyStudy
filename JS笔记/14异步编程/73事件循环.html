<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- // 1、JavaScript中的所有事件都可以分为同步任务和异步任务 -->
    <!-- 面试常考！ -->

    <script>
        // 事件循环（event loop）并不是某一个事件通过for循环一直进行，而是js处理机制中同步与异步的概念，指主线程不断地重复地获取任务，执行任务，再获取任务，执行任务的机制。

        // 前提条件:JavaScript是一个单线程语言，无法创建多个线程进行不同任务的同时处理，只能对任务进行分类，在根据任务的类型按顺序执行

        // 为了解决JavaScript单线程的限制，新的浏览器引擎允许JavaScript通过脚本创建线程


        /** 调用栈（Call stack）任务队列（event queue），API区域 
         * 
         * 调用栈——用于执行代码命令的栈，遵循先进后出的原则
         * 
         * 任务队列，用于存储异步任务的队列
         * 
         * API区域，比如setTimeOut延时操作的异步操作的执行区域
         * 
        */


        /**
         * 事件循环的简单理解
         * 
         * 1、浏览器读取任务，并辨别该任务是同步任务还是异步任务
         * 
         * 2、如果是同步任务，则将同步任务压入任务栈，并正常执行，并且只有在该同步任务执行完毕后，才能执行下一个同步任务
         * 
         * 3、如果是异步任务，则将异步任务放入任务队列，并立即开始，且当前一个异步任务开始后，后一个异步任务也立即开始，当同步任务被执行完毕，并且异步任务可以进行执行后，才会被压入任务栈执行
         * 
         * 4、浏览器将任务队列的异步任务执行完毕后，再进行如上步骤的循环
         * 
         * 这就是事件循环
        */

        // 

        
        console.log(1);
        function s() {
            console.log(2);
        }
        setTimeout(() => {
            console.log(0);
        }, 0);

        s()

        // 输出顺序为 1 2 0， 验证上面的事件循环

        console.log(0);

        document.addEventListener("click", function() {
            console.log(2);
        })

        console.log(1);

        function t() {
            console.log(3);
        }

        setTimeout(() => {
            console.log(4);
        }, 3000);

        t()

        // 当不点击时， 执行顺序为0，1, 3, 4

        // 当点击 点击速度<3s时， 执行顺序为 0, 1, 3, 2, 4 (中间多出0是上面)
        // 当点击 点击速度<3s时， 执行顺序为 0, 1, 3, 4，2 (中间多出0是上面)
    </script>

    <script>
        // 补充

        // 1、进程和线程的概念

        // 进程 是指⼀个内存中运⾏的应⽤程序，每个进程都有⼀个独⽴的内存空间，⼀个应⽤程序可以同时运⾏多个进程；
        // 进程也是程序的⼀次执⾏过程，是系统运⾏程序的基本单位，也是cpu分配资源的最小单位；系统运⾏⼀个程序即是 ⼀个进程从创建、运⾏到消亡的过程。

        // 线程
        // 线程是进程中的⼀个执⾏单元，负责当前进程中程序的执⾏，⼀个进程中⾄少有⼀个线程，线程是cpu调度的最小单位。
        // ⼀个进程中是可以有多个线程的，这个应⽤程序也可以称之为多线程程序。js中，一个进程只拥有一个线程，所以称为单线程语言
    </script>
</body>
</html>